CREATE TABLE "BILLING"."SUPPLIERS" 
   (	"ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 3 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"CODE" VARCHAR2(10 CHAR) NOT NULL ENABLE, 
	"NAME" VARCHAR2(255 CHAR) NOT NULL ENABLE, 
	"IS_ACTIVE" VARCHAR2(1 CHAR) DEFAULT ON NULL 'Y' NOT NULL ENABLE, 
	"ROW_VERSION" NUMBER(*,0) NOT NULL ENABLE, 
	"CREATED" DATE NOT NULL ENABLE, 
	"CREATED_BY" VARCHAR2(255 CHAR) NOT NULL ENABLE, 
	"UPDATED" DATE NOT NULL ENABLE, 
	"UPDATED_BY" VARCHAR2(255 CHAR) NOT NULL ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "APEX_7944359602492022" ;
ALTER TABLE "BILLING"."SUPPLIERS" ADD CONSTRAINT "SUPPLIERS_IS_ACTIVE_CK" CHECK (is_active in ('Y', 'N')) ENABLE;
ALTER TABLE "BILLING"."SUPPLIERS" ADD CONSTRAINT "SUPPLIERS_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "APEX_7944359602492022"  ENABLE;
ALTER TABLE "BILLING"."SUPPLIERS" ADD CONSTRAINT "SUPPLIERS_CODE_UNQ" UNIQUE ("CODE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "APEX_7944359602492022"  ENABLE;

  CREATE INDEX "BILLING"."SUPPLIERS_I1" ON "BILLING"."SUPPLIERS" ("IS_ACTIVE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "APEX_7944359602492022" ;

  CREATE OR REPLACE EDITIONABLE TRIGGER "BILLING"."SUPPLIERS_BIU" before 
        insert or 
                update on suppliers for each row 
        begin 
                if inserting then 
                        :new.row_version := 1; 
                elsif updating then 
                        :new.row_version := nvl(:old.row_version, 0) + 1; 
                end if; 
 
                if inserting then 
                        :new.created := sysdate; 
                        :new.created_by := coalesce(sys_context('apex$session', 'app_user'), user); 
                end if; 
 
                :new.updated := sysdate; 
                :new.updated_by := coalesce(sys_context('apex$session', 'app_user'), user); 
        end suppliers_biu; 

/
ALTER TRIGGER "BILLING"."SUPPLIERS_BIU" ENABLE;